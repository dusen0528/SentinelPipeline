{
  "streams": [
    {
      "stream_id": "camera_01",
      "rtsp_url": "rtsp://user:password@127.0.0.1:8554/stream1",
      "enabled": true,
      "max_fps": 15,
      "downscale": 0.5,
      "buffer_size": 2,
      "reconnect_enabled": true,
      "reconnect_max_retries": 5,
      "reconnect_base_delay": 1.0,
      "reconnect_max_delay": 8.0,
      "output_url": "rtsp://localhost:8554/output1",
      "output_enabled": true
    },
    {
      "stream_id": "camera_02",
      "rtsp_url": "rtsp://user:password@127.0.0.1:8554/stream2",
      "enabled": false,
      "max_fps": 12,
      "downscale": 0.7,
      "buffer_size": 2,
      "reconnect_enabled": true,
      "reconnect_max_retries": 3,
      "reconnect_base_delay": 1.0,
      "reconnect_max_delay": 6.0
    }
  ],
  "modules": [
    {
      "name": "FireDetectModule",
      "enabled": true,
      "priority": 100,
      "timeout_ms": 45,
      "options": {
        "model_path": "models/fire.onnx",
        "threshold": 0.6,
        "min_consecutive": 3,
        "window_ms": 2000
      }
    },
    {
      "name": "ScreamDetectModule",
      "enabled": false,
      "priority": 120,
      "timeout_ms": 40,
      "options": {
        "model_path": "models/scream.onnx",
        "threshold": 0.75,
        "cooldown_ms": 5000
      }
    },
    {
      "name": "FaceBlurModule",
      "enabled": true,
      "priority": 200,
      "timeout_ms": 50,
      "options": {
        "model_path": "/c/Users/CIH/Desktop/dev/nemo/Yolo-face-detecting/yolo/yolov8n-face.pt",
        "blur_kernel": 99,
        "confidence_threshold": 0.5,
        "min_face_size": 30,
        "use_tracker": true,
        "tracker_max_age": 25,
        "tracker_smoothing": 0.5
      }
    }
  ],
  "pipeline": {
    "max_workers": 4,
    "max_consecutive_errors": 5,
    "error_window_seconds": 60,
    "auto_disable_threshold": 10,
    "cooldown_seconds": 300
  },
  "event": {
    "max_queue_size": 1000,
    "batch_size": 10,
    "flush_interval_ms": 100,
    "drop_strategy": "drop_oldest",
    "transports": [
      {
        "type": "http",
        "url": "http://localhost:8080/v1/events",
        "enabled": true,
        "batch_size": 10,
        "flush_interval_ms": 100,
        "headers": {
          "X-API-Key": "changeme"
        }
      },
      {
        "type": "ws",
        "url": "ws://localhost:8081/ws/events",
        "enabled": false,
        "batch_size": 10,
        "flush_interval_ms": 100
      }
    ]
  },
  "observability": {
    "metrics_enabled": true,
    "metrics_host": "0.0.0.0",
    "metrics_port": 9100,
    "log_level": "INFO"
  },
  "global": {
    "max_fps": 15,
    "downscale": 0.5,
    "queue_max": 2,
    "drop_strategy": "drop_oldest",
    "inference_timeout_ms": 50
  }
}

